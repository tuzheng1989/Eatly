import{V as y,r as u,c as R}from"./vue-vendor-Bi-VIAV2.js";import"./index-C6H1Hdn7.js";import{r}from"./record.service-BTSfs8Wh.js";const x=y("record",()=>{const a=u([]),n=u(!1),o=R(()=>{const e=new Map;return a.value.forEach(t=>{e.set(t.date,t)}),e});async function s(e,t){n.value=!0;try{a.value=await r.getByDateRange(e,t)}finally{n.value=!1}}async function d(e){const t=await r.create(e);return a.value.push(t),t}async function i(e,t){const p=await r.update(e,t),c=a.value.findIndex(v=>v.id===e);c!==-1&&(a.value[c]=p)}async function l(e){await r.delete(e),a.value=a.value.filter(t=>t.id!==e)}function f(e){return o.value.get(e)}return{records:a,loading:n,recordsByDate:o,loadRecords:s,createRecord:d,updateRecord:i,deleteRecord:l,getRecordByDate:f}});export{x as u};
