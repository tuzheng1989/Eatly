# Eatly 手动测试指南

**版本**: v1.0
**更新日期**: 2025-02-04
**测试环境**: 开发环境 (localhost:3000)

---

## 📋 目录

- [环境准备](#环境准备)
- [启动应用](#启动应用)
- [测试检查清单](#测试检查清单)
  - [1. 首页测试](#1-首页测试-4-项)
  - [2. 日历视图测试](#2-日历视图测试-4-项)
  - [3. 导航功能测试](#3-导航功能测试-3-项)
  - [4. 推荐菜品测试](#4-推荐菜品测试-4-项)
  - [5. 方案管理测试](#5-方案管理测试-4-项)
  - [6. 统计分析测试](#6-统计分析测试-5-项)
- [浏览器开发者工具使用](#浏览器开发者工具使用)
- [常见问题排查](#常见问题排查)
- [测试数据管理](#测试数据管理)
- [测试结果记录](#测试结果记录)

---

## 🚀 环境准备

### 系统要求

- **Node.js**: v16.0.0 或更高版本
- **浏览器**: Chrome/Edge/Firefox/Safari 最新版本
- **操作系统**: Windows/macOS/Linux

### 依赖安装

```bash
# 确保在项目根目录
cd /path/to/eatly

# 安装依赖（如果尚未安装）
npm install
```

### 环境检查

```bash
# 检查 Node.js 版本
node --version  # 应显示 v16.0.0 或更高

# 检查 npm 版本
npm --version   # 应显示 7.0.0 或更高
```

---

## 🎯 启动应用

### 方式一：启动开发服务器（推荐）

```bash
npm run dev
```

**输出示例**:
```
  VITE v6.0.0  ready in xxx ms

  ➜  Local:   http://localhost:3000/
  ➜  Network: use --host to expose
```

**访问地址**: http://localhost:3000

### 方式二：生产构建预览

```bash
# 构建生产版本
npm run build

# 预览生产构建
npm run preview
```

**访问地址**: http://localhost:4173

---

## ✅ 测试检查清单

### 1. 首页测试 (4 项)

#### 测试 1.1: 首页正确加载

**测试步骤**:
1. 打开浏览器访问 `http://localhost:3000`
2. 等待页面完全加载

**预期结果**:
- ✅ 页面标题显示 "欢迎使用 Eatly 🥗"
- ✅ 页面正常渲染，无控制台错误
- ✅ 响应时间 < 3 秒

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 1.2: 快速操作入口显示

**测试步骤**:
1. 在首页查看快速操作区域
2. 统计显示的卡片数量

**预期结果**:
- ✅ 显示 4 个快速操作卡片
- ✅ 卡片图标和标题清晰可见：
  - 🎲 获取推荐
  - 📝 记录饮食
  - 📅 历史记录
  - 📊 统计分析
- ✅ 卡片悬停时有动画效果

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 1.3: 导航到推荐页面

**测试步骤**:
1. 点击 "获取推荐" 卡片
2. 观察页面跳转

**预期结果**:
- ✅ 页面跳转到 `/recommend`
- ✅ URL 地址栏显示 `http://localhost:3000/recommend`
- ✅ 显示 "菜品推荐" 标题
- ✅ 页面加载流畅，无闪烁

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 1.4: 导航到记录页面

**测试步骤**:
1. 返回首页（点击导航栏 "首页" 或面包屑）
2. 点击 "记录饮食" 卡片
3. 观察页面跳转

**预期结果**:
- ✅ 页面跳转到 `/record`
- ✅ URL 地址栏显示 `http://localhost:3000/record`
- ✅ 显示 "记录饮食" 标题
- ✅ 显示记录表单

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

### 2. 日历视图测试 (4 项)

#### 测试 2.1: 日历页面加载

**测试步骤**:
1. 点击导航栏的 "日历"
2. 或直接访问 `http://localhost:3000/calendar`

**预期结果**:
- ✅ 显示 "日历视图 📅" 标题
- ✅ 显示当前月份的日历网格
- ✅ 今天日期高亮显示
- ✅ 页面布局正常，无错位

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 2.2: 显示当前月份

**测试步骤**:
1. 查看日历显示的日期
2. 统计日期总数

**预期结果**:
- ✅ 显示当前月份的所有日期
- ✅ 日期数量符合当前月份（28-31 天）
- ✅ 当前月份的日期清晰可见
- ✅ 非当前月份的日期有视觉区分（灰色）

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 2.3: 点击日期查看详情

**测试步骤**:
1. 点击日历中的某个日期（非今天）
2. 观察是否显示详情

**预期结果**:
- ✅ 点击的日期被选中
- ✅ 显示该日期的饮食记录（如果有）
- ✅ 或显示 "暂无记录" 提示（如果没有）
- ✅ 详情信息清晰易读

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 2.4: 切换月份

**测试步骤**:
1. 点击 "下一月" 按钮
2. 观察日历变化
3. 点击 "上一月" 按钮
4. 观察日历变化

**预期结果**:
- ✅ 日历切换到下个月
- ✅ 月份标题更新
- ✅ 日历网格重新渲染
- ✅ 切换动画流畅（如果有）
- ✅ 可以连续切换多个月

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

### 3. 导航功能测试 (3 项)

#### 测试 3.1: 直接访问各页面

**测试步骤**:
1. 在地址栏直接输入以下 URL：
   - `http://localhost:3000/recommend`
   - `http://localhost:3000/record`
   - `http://localhost:3000/calendar`
   - `http://localhost:3000/statistics`
   - `http://localhost:3000/schemes`
2. 逐个测试每个页面

**预期结果**:
- ✅ 所有页面都能正确加载
- ✅ 每个页面显示正确的标题
- ✅ 无 404 错误
- ✅ 页面内容完整显示

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 3.2: 浏览器后退按钮

**测试步骤**:
1. 访问首页 `http://localhost:3000`
2. 点击导航进入推荐页面
3. 点击浏览器后退按钮
4. 再次点击后退按钮

**预期结果**:
- ✅ 后退按钮功能正常
- ✅ 从推荐页面返回首页
- ✅ URL 正确回退
- ✅ 页面状态正确恢复
- ✅ 无错误提示

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 3.3: 无效 URL 处理

**测试步骤**:
1. 在地址栏输入不存在的 URL：
   - `http://localhost:3000/non-existent-page`
   - `http://localhost:3000/test/404`
2. 观察页面行为

**预期结果**:
- ✅ 页面不会崩溃
- ✅ 显示友好的错误提示或重定向到首页
- ✅ 无控制台错误（或仅有预期的错误）
- ✅ 用户可以返回正常页面

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

### 4. 推荐菜品测试 (4 项)

#### 测试 4.1: 推荐页面加载

**测试步骤**:
1. 访问 `http://localhost:3000/recommend`
2. 等待页面完全加载

**预期结果**:
- ✅ 显示 "菜品推荐 🎲" 标题
- ✅ 显示生成推荐的按钮/表单
- ✅ 页面布局正常
- ✅ 无控制台错误

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 4.2: 生成推荐

**测试步骤**:
1. 确保已选择或创建方案
2. 点击 "生成推荐" 按钮
3. 等待推荐生成完成

**预期结果**:
- ✅ 显示加载状态（如果有）
- ✅ 生成成功后显示推荐结果
- ✅ 推荐包含 A、B、C 三组菜品
- ✅ 每组显示一道菜品名称
- ✅ 菜品信息清晰易读

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 4.3: 重新生成推荐

**测试步骤**:
1. 查看当前推荐结果
2. 点击 "重新生成" 按钮
3. 观察新的推荐结果

**预期结果**:
- ✅ 生成新的推荐组合
- ✅ 新推荐与之前的推荐不同（随机性）
- ✅ 仍然包含 A、B、C 三组
- ✅ 重新生成过程流畅

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 4.4: 确认并保存推荐

**测试步骤**:
1. 生成推荐后
2. 点击 "确认并保存" 按钮
3. 观察保存结果

**预期结果**:
- ✅ 显示保存成功的提示消息
- ✅ 推荐结果被保存到数据库
- ✅ 可以在日历或统计页面查看保存的记录
- ✅ 无控制台错误

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

### 5. 方案管理测试 (4 项)

#### 测试 5.1: 方案管理页面加载

**测试步骤**:
1. 访问 `http://localhost:3000/schemes`
2. 等待页面加载

**预期结果**:
- ✅ 显示 "方案管理" 标题
- ✅ 显示创建方案的表单
- ✅ 显示现有方案列表（如果有）
- ✅ 页面布局正常

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 5.2: 创建新方案

**测试步骤**:
1. 输入方案名称（如 "测试方案"）
2. 配置菜品池（A、B、C 组）
3. 点击 "创建方案" 按钮
4. 观察创建结果

**预期结果**:
- ✅ 表单验证正常（必填项检查）
- ✅ 创建成功后显示成功提示
- ✅ 新方案出现在方案列表中
- ✅ 方案信息正确保存

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 5.3: 显示方案列表

**测试步骤**:
1. 查看方案管理页面的方案列表区域
2. 检查方案信息展示

**预期结果**:
- ✅ 显示所有已创建的方案
- ✅ 每个方案显示名称和关键信息
- ✅ 每个方案有操作按钮（切换、删除等）
- ✅ 列表滚动流畅（如果方案较多）

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 5.4: 删除方案

**测试步骤**:
1. 找到要删除的方案
2. 点击方案的 "删除" 按钮
3. 确认删除（如果有确认对话框）
4. 观察删除结果

**预期结果**:
- ✅ 显示确认对话框（防止误删）
- ✅ 确认后方案从列表中移除
- ✅ 显示删除成功的提示
- ✅ 删除操作不可逆（或可恢复，根据设计）

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

### 6. 统计分析测试 (5 项)

#### 测试 6.1: 统计页面加载

**测试步骤**:
1. 访问 `http://localhost:3000/statistics`
2. 等待页面完全加载

**预期结果**:
- ✅ 显示 "统计分析 📊" 标题
- ✅ 显示统计卡片区域
- ✅ 显示图表区域
- ✅ 无控制台错误

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 6.2: 显示统计卡片

**测试步骤**:
1. 查看概览卡片区域
2. 检查统计数据显示

**预期结果**:
- ✅ 显示 "概览" 卡片
- ✅ 显示以下统计信息：
  - 总记录天数
  - A组菜品数量
  - B组菜品数量
  - C组菜品数量
- ✅ 显示 "热门菜品" 卡片
- ✅ 数值格式化正确（如千分位）

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 6.3: 显示数据图表

**测试步骤**:
1. 滚动到图表区域
2. 等待图表加载完成

**预期结果**:
- ✅ 显示 "饮食摄入趋势" 图表
- ✅ 图表有数据或显示 "暂无数据"
- ✅ 图表标签和坐标轴清晰
- ✅ 图表尺寸合适，不溢出

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 6.4: 图表正确渲染

**测试步骤**:
1. 仔细观察图表样式和布局
2. 检查图表交互功能（如果有）

**预期结果**:
- ✅ 图表尺寸正常（约 1136x400）
- ✅ 坐标轴和标签清晰可见
- ✅ 数据点/线条颜色区分明显
- ✅ 鼠标悬停显示详细信息（如果有）
- ✅ 图表响应式（调整窗口大小自适应）

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

#### 测试 6.5: 切换时间范围

**测试步骤**:
1. 找到时间范围切换按钮
2. 点击切换不同的时间范围（日/周/月）
3. 观察图表变化

**预期结果**:
- ✅ 显示时间范围选择器
- ✅ 切换后图表数据更新
- ✅ 切换动画流畅（如果有）
- ✅ 当前选择范围高亮显示
- ✅ 无数据丢失或错误

**实际结果**: ⬜ 通过 / ⬜ 不通过

**备注**: _______________________________________________

---

## 🔧 浏览器开发者工具使用

### 打开开发者工具

**Windows/Linux**:
- `F12`
- `Ctrl + Shift + I`

**macOS**:
- `Cmd + Option + I`

### 主要功能标签

#### 1. Elements（元素检查）

**用途**: 查看 DOM 结构和样式

**使用场景**:
- 检查元素是否正确渲染
- 调试 CSS 样式问题
- 查找元素的选择器

**示例**:
```
1. 右键点击元素 → "检查"
2. 在 Elements 标签中查看 HTML 结构
3. 右侧 Styles 面板查看 CSS
```

---

#### 2. Console（控制台）

**用途**: 查看日志和错误

**使用场景**:
- 查看 JavaScript 错误
- 查看应用日志输出
- 执行调试代码

**常见日志类型**:
```javascript
console.log('普通日志')
console.warn('警告信息')
console.error('错误信息')
console.info('提示信息')
```

**示例检查**:
- ✅ 应该有：`✅ Global message API initialized successfully`
- ❌ 不应有：红色错误信息

---

#### 3. Network（网络）

**用途**: 查看 HTTP 请求

**使用场景**:
- 检查 API 请求是否成功
- 查看请求和响应数据
- 分析加载性能

**使用方法**:
```
1. 打开 Network 标签
2. 刷新页面或执行操作
3. 查看请求列表
4. 点击请求查看详情
```

**重要指标**:
- **Status**: 200-299（成功），4xx（客户端错误），5xx（服务器错误）
- **Response Time**: 应该 < 1000ms
- **Size**: 响应数据大小

---

#### 4. Application（应用）

**用途**: 查看存储和数据库

**使用场景**:
- 查看 LocalStorage
- 查看 IndexedDB
- 查看 SessionStorage
- 查看 Cookies

**查看 IndexedDB**:
```
1. 打开 Application 标签
2. 左侧找到 "Storage" → "IndexedDB"
3. 展开 "eatly-db"
4. 查看各个对象存储（schemes, records, recommendations）
```

---

## 🐛 常见问题排查

### 问题 1: 页面空白

**可能原因**:
- JavaScript 错误导致应用崩溃
- 依赖未正确加载
- 路由配置错误

**排查步骤**:
1. 打开 Console 查看错误信息
2. 检查 Network 标签确认资源加载
3. 查看是否有 404 错误

**解决方案**:
```bash
# 清除缓存并重启
npm run dev

# 或重新安装依赖
rm -rf node_modules package-lock.json
npm install
npm run dev
```

---

### 问题 2: 功能不工作

**可能原因**:
- API 请求失败
- 数据库连接问题
- 代码逻辑错误

**排查步骤**:
1. 打开 Console 查看 API 错误
2. 打开 Network 查看请求状态
3. 检查 IndexedDB 中是否有数据

**快速检查**:
```javascript
// 在浏览器 Console 中执行

// 检查 IndexedDB 数据
indexedDB.open('eatly-db').onsuccess = (e) => {
  const db = e.target.result
  console.log('数据库对象存储:', db.objectStoreNames)
}

// 检查全局 message API
console.log('Message API:', window.$message)
```

---

### 问题 3: 样式错乱

**可能原因**:
- CSS 未正确加载
- 响应式布局问题
- 缓存问题

**排查步骤**:
1. 强制刷新页面（Ctrl+F5 / Cmd+Shift+R）
2. 检查 Elements 标签的 CSS
3. 尝试不同浏览器

**解决方案**:
```
1. 清除浏览器缓存
2. 使用隐私/无痕模式测试
3. 检查屏幕分辨率（建议 1920x1080）
```

---

### 问题 4: 性能问题

**表现**:
- 页面加载缓慢
- 操作响应延迟
- 动画卡顿

**排查步骤**:
1. 打开 Performance 标签录制
2. 执行慢操作
3. 停止录制并分析

**优化建议**:
- 关闭浏览器扩展
- 减少同时打开的标签页
- 使用更快的浏览器（Chrome/Edge）

---

## 💾 测试数据管理

### 清空测试数据

**方法一：浏览器 Console**
```javascript
// 删除整个数据库
indexedDB.deleteDatabase('eatly-db')

// 清除 LocalStorage
localStorage.clear()

// 刷新页面
location.reload()
```

**方法二：开发者工具**
```
1. 打开 Application 标签
2. 找到 "Storage" → "IndexedDB" → "eatly-db"
3. 右键 → "Delete database"
4. 刷新页面
```

**方法三：重置应用**
```bash
# 停止开发服务器
# Ctrl+C

# 删除 IndexedDB（浏览器会自动删除）

# 重新启动
npm run dev
```

---

### 导出测试数据

**步骤**:
```
1. 打开 Application 标签
2. 找到 "IndexedDB" → "eatly-db"
3. 展开各个对象存储
4. 手动记录数据或截图
```

---

### 预置测试数据

**创建示例方案**:
```
1. 访问 /schemes
2. 创建方案名称 "测试方案A"
3. 配置 A、B、C 组菜品
4. 保存方案
```

**创建示例记录**:
```
1. 访问 /recommend
2. 生成推荐
3. 确认并保存
4. 访问 /calendar 查看记录
```

---

## 📊 测试结果记录

### 快速测试结果表

| 测试类别 | 通过 | 不通过 | 通过率 | 备注 |
|---------|------|--------|--------|------|
| 1. 首页测试 | ⬜ / 4 | ⬜ / 4 | __% | |
| 2. 日历视图 | ⬜ / 4 | ⬜ / 4 | __% | |
| 3. 导航功能 | ⬜ / 3 | ⬜ / 3 | __% | |
| 4. 推荐菜品 | ⬜ / 4 | ⬜ / 4 | __% | |
| 5. 方案管理 | ⬜ / 4 | ⬜ / 4 | __% | |
| 6. 统计分析 | ⬜ / 5 | ⬜ / 5 | __% | |
| **总计** | **__ / 24** | **__ / 24** | **__%** | |

---

### 详细测试日志

**测试日期**: _____________________

**测试环境**:
- 操作系统: _____________________
- 浏览器: _____________________
- 浏览器版本: _____________________
- 屏幕分辨率: _____________________

**测试人员**: _____________________

---

#### 测试问题记录

| # | 测试项 | 问题描述 | 严重程度 | 状态 |
|---|--------|---------|---------|------|
| 1 | | | 🔴高 / 🟡中 / 🟢低 | |
| 2 | | | 🔴高 / 🟡中 / 🟢低 | |
| 3 | | | 🔴高 / 🟡中 / 🟢低 | |

**严重程度说明**:
- 🔴 **高**: 阻碍核心功能，必须修复
- 🟡 **中**: 影响用户体验，应该修复
- 🟢 **低**: 小问题，可以后续优化

---

#### 测试建议

**功能改进**:
1. _______________________________________________
2. _______________________________________________

**UI/UX 改进**:
1. _______________________________________________
2. _______________________________________________

**性能优化**:
1. _______________________________________________
2. _______________________________________________

---

## ✅ 测试完成标准

### 必须满足的标准

- [ ] **所有核心功能测试通过**: ≥ 90% (22/24)
- [ ] **无阻碍性错误**: 0 个 🔴 高优先级问题
- [ ] **性能可接受**: 页面加载 < 3秒
- [ ] **控制台无严重错误**: 无红色错误信息

### 建议满足的标准

- [ ] **UI/UX 良好**: 界面美观，交互流畅
- [ ] **响应式正常**: 不同屏幕尺寸下正常显示
- [ ] **代码质量**: TypeScript 无类型错误
- [ ] **无控制台警告**: 最少化警告信息

---

## 📞 反馈与支持

### 发现问题？

如果测试中发现任何问题，请记录：

1. **问题标题**: _____________________
2. **复现步骤**: _____________________
3. **预期行为**: _____________________
4. **实际行为**: _____________________
5. **截图/录屏**: _____________________

### 提交反馈

- **创建 Issue**: GitHub Issues
- **联系开发**: 通过项目主页联系方式
- **文档更新**: 提交 PR 改进本文档

---

## 📚 附录

### A. 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `F12` | 打开/关闭开发者工具 |
| `Ctrl + R` | 刷新页面 |
| `Ctrl + Shift + R` | 强制刷新（清除缓存） |
| `Ctrl + Shift + I` | 打开开发者工具 |
| `Ctrl + U` | 查看页面源代码 |
| `Ctrl + Shift + C` | 检查元素 |

### B. 浏览器兼容性

| 浏览器 | 最低版本 | 测试状态 |
|--------|---------|---------|
| Chrome | 90+ | ⬜ 通过 / ⬜ 未测试 |
| Edge | 90+ | ⬜ 通过 / ⬜ 未测试 |
| Firefox | 88+ | ⬜ 通过 / ⬜ 未测试 |
| Safari | 14+ | ⬜ 通过 / ⬜ 未测试 |

### C. 相关文档

- [E2E 测试报告](../tests/TEST_FIX_REPORT.md)
- [项目 README](../README.md)
- [CLAUDE.md](../CLAUDE.md) - 项目开发规范

---

**文档版本**: v1.0
**最后更新**: 2025-02-04
**维护者**: Eatly 开发团队

---

## 🎉 结语

感谢您参与 Eatly 应用的手动测试！

您的反馈对改进产品质量至关重要。请认真填写测试结果记录，确保发现的问题都被妥善记录和跟进。

**测试愉快！** 🚀
